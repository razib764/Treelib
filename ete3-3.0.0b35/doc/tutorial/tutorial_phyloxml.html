

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>PhyloXML &mdash; ETE Toolkit - analysis and visualization of trees</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="author" title="About these documents"
              href="../about.html"/>
    <link rel="top" title="ETE Toolkit - analysis and visualization of trees" href="../index.html"/>
        <link rel="up" title="Phylogenetic XML standards" href="tutorial_xml.html"/>
        <link rel="next" title="Interactive web tree visualization" href="tutorial_webplugin.html"/>
        <link rel="prev" title="NeXML" href="tutorial_nexml.html"/>
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
           (i[r].q=i[r].q||[]).push(arguments)
    },i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

 ga('create', 'UA-783841-4', 'etetoolkit.org');
 ga('send', 'pageview');
 </script>

<!-- 
 <script type="text/javascript">
 var _gaq = _gaq || [];
 _gaq.push(['_setAccount', 'UA-783841-12']);
 _gaq.push(['_setCookiePath', '/ete2/']);
 _gaq.push(['_trackPageview']);

 (function() {
 var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
 ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
 var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
 })();
 </script>
 -->
<!-- <link rel="canonical" href="http://etetoolkit.org/docs/2.3/CANONICALPATH" />
<meta http-equiv="refresh" content="0; url=http:/etetoolkit.org/CANONICALPATH" />
<script type="text/javascript">
window.location.replace('http://etetoolkit.org/docs/2.3/' + window.location.pathname.replace('/ete2/',''));
</script> -->
 
 


  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> ETE Toolkit
          

          
          </a>

          
            
            
              <div class="version">
                3.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../changelog/index.html">Changelog history</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">The ETE tutorial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="tutorial_trees.html">Working With Tree Data Structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_drawing.html">The Programmable Tree Drawing Engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_phylogeny.html">Phylogenetic Trees</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_clustering.html">Clustering Trees</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="tutorial_xml.html">Phylogenetic XML standards</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="tutorial_nexml.html">NeXML</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">PhyloXML</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#loading-phyloxml-projects-from-files">Loading PhyloXML projects from files</a></li>
<li class="toctree-l4"><a class="reference internal" href="#creating-phyloxml-projects-from-scratch">Creating PhyloXML projects from scratch</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_webplugin.html">Interactive web tree visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_adaptation.html">Testing Evolutionary Hypothesis</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_ncbitaxonomy.html">Dealing with the NCBI Taxonomy database</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_etree2orthoxml.html">SCRIPTS: orthoXML</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">ETE&#8217;s Reference Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">ETE Toolkit</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">The ETE tutorial</a> &raquo;</li>
      
          <li><a href="tutorial_xml.html">Phylogenetic XML standards</a> &raquo;</li>
      
    <li>PhyloXML</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/tutorial/tutorial_phyloxml.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="versionadded">
<p><span class="versionmodified">New in version 2.1.</span></p>
</div>
<div class="section" id="phyloxml">
<h1>PhyloXML<a class="headerlink" href="#phyloxml" title="Permalink to this headline">¶</a></h1>
<p>PhyloXML (<a class="reference external" href="http://www.phyloxml.org/">http://www.phyloxml.org/</a>) is a novel standard used to encode
phylogenetic information. In particular, phyloXML is designed to
describe phylogenetic trees (or networks) and associated data, such as
taxonomic information, gene names and identifiers, branch lengths,
support values, and gene duplication and speciation events.</p>
<div class="section" id="loading-phyloxml-projects-from-files">
<h2>Loading PhyloXML projects from files<a class="headerlink" href="#loading-phyloxml-projects-from-files" title="Permalink to this headline">¶</a></h2>
<p>ETE provides full support for phyloXML projects through the
<a class="reference internal" href="../reference/reference_phyloxml.html#ete3.Phyloxml" title="ete3.Phyloxml"><code class="xref py py-class docutils literal"><span class="pre">Phyloxml</span></code></a> object. Phylogenies are integrated as ETE&#8217;s tree
data structures as <a class="reference internal" href="../reference/reference_phyloxml.html#ete3.PhyloxmlTree" title="ete3.PhyloxmlTree"><code class="xref py py-class docutils literal"><span class="pre">PhyloxmlTree</span></code></a> instances, while the rest of
features are represented as simple classes (<a class="reference internal" href="../reference/reference_phyloxml.html#module-ete3.phyloxml" title="ete3.phyloxml"><code class="xref py py-mod docutils literal"><span class="pre">ete3.phyloxml</span></code></a>)
providing basic reading and writing operations.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">ete3</span> <span class="kn">import</span> <span class="n">Phyloxml</span>
<span class="n">project</span> <span class="o">=</span> <span class="n">Phyloxml</span><span class="p">()</span>
<span class="n">project</span><span class="o">.</span><span class="n">build_from_file</span><span class="p">(</span><span class="s">&quot;apaf.xml&quot;</span><span class="p">)</span>

<span class="c"># Each tree contains the same methods as a PhyloTree object</span>
<span class="k">for</span> <span class="n">tree</span> <span class="ow">in</span> <span class="n">project</span><span class="o">.</span><span class="n">get_phylogeny</span><span class="p">():</span>
    <span class="k">print</span> <span class="n">tree</span>
    <span class="c"># you can even use rendering options</span>
    <span class="n">tree</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="c"># PhyloXML features are stored in the phyloxml_clade attribute</span>
    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">tree</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">&quot;Node name:&quot;</span><span class="p">,</span> <span class="n">node</span><span class="o">.</span><span class="n">name</span>
        <span class="k">for</span> <span class="n">seq</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">phyloxml_clade</span><span class="o">.</span><span class="n">get_sequence</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">domain</span> <span class="ow">in</span> <span class="n">seq</span><span class="o">.</span><span class="n">domain_architecture</span><span class="o">.</span><span class="n">get_domain</span><span class="p">():</span>
                <span class="n">domain_data</span> <span class="o">=</span> <span class="p">[</span><span class="n">domain</span><span class="o">.</span><span class="n">valueOf_</span><span class="p">,</span> <span class="n">domain</span><span class="o">.</span><span class="n">get_from</span><span class="p">(),</span> <span class="n">domain</span><span class="o">.</span><span class="n">get_to</span><span class="p">()]</span>
                <span class="k">print</span> <span class="s">&quot;  Domain:&quot;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\t</span><span class="s">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">domain_data</span><span class="p">))</span>
</pre></div>
</div>
<p><a class="reference download internal" href="../_downloads/phyloxml_parser.py"><code class="xref download docutils literal"><span class="pre">[Download</span> <span class="pre">script]</span></code></a>
<a class="reference download internal" href="../_downloads/apaf.xml"><code class="xref download docutils literal"><span class="pre">[Download</span> <span class="pre">example]</span></code></a></p>
<p>Each tree node contains two phyloxml elements, <code class="xref py py-attr docutils literal"><span class="pre">phyloxml_clade</span></code>
and <code class="xref py py-attr docutils literal"><span class="pre">phyloxml_phylogeny</span></code>. The first attribute contains clade
information referred to the node, while <code class="docutils literal"><span class="pre">phyloxml_phylogeny</span></code>
contains general data about the subtree defined by each node. This
way, you can split, or copy any part of a tree and it will be exported
as a separate phyloxml phylogeny instance.</p>
<p>Note that <code class="xref py py-attr docutils literal"><span class="pre">node.dist</span></code>, <code class="xref py py-attr docutils literal"><span class="pre">node.support</span></code> and
<code class="xref py py-attr docutils literal"><span class="pre">node.name</span></code> features are linked to
<code class="xref py py-attr docutils literal"><span class="pre">node.phyloxml_clade.branch_length</span></code>,
<code class="xref py py-attr docutils literal"><span class="pre">node.phyloxml_clade.confidence</span></code> and
<code class="xref py py-attr docutils literal"><span class="pre">node.phyloxml_clade.name</span></code>, respectively.</p>
</div>
<div class="section" id="creating-phyloxml-projects-from-scratch">
<h2>Creating PhyloXML projects from scratch<a class="headerlink" href="#creating-phyloxml-projects-from-scratch" title="Permalink to this headline">¶</a></h2>
<p>In order to create new PhyloXML projects, a set of classes is
available in the <a class="reference internal" href="../reference/reference_phyloxml.html#module-ete3.phyloxml" title="ete3.phyloxml"><code class="xref py py-mod docutils literal"><span class="pre">ete3.phyloxml</span></code></a> module.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">ete3</span> <span class="kn">import</span> <span class="n">Phyloxml</span><span class="p">,</span> <span class="n">phyloxml</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="n">project</span> <span class="o">=</span> <span class="n">Phyloxml</span><span class="p">()</span>

<span class="c"># Creates a random tree</span>
<span class="n">phylo</span> <span class="o">=</span> <span class="n">phyloxml</span><span class="o">.</span><span class="n">PhyloxmlTree</span><span class="p">()</span>
<span class="n">phylo</span><span class="o">.</span><span class="n">populate</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">random_branches</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">phylo</span><span class="o">.</span><span class="n">phyloxml_phylogeny</span><span class="o">.</span><span class="n">set_name</span><span class="p">(</span><span class="s">&quot;test_tree&quot;</span><span class="p">)</span>
<span class="c"># Add the tree to the phyloxml project</span>
<span class="n">project</span><span class="o">.</span><span class="n">add_phylogeny</span><span class="p">(</span><span class="n">phylo</span><span class="p">)</span>

<span class="k">print</span> <span class="n">project</span><span class="o">.</span><span class="n">get_phylogeny</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>

<span class="c">#          /-iajom</span>
<span class="c">#     /---|</span>
<span class="c">#    |     \-wiszh</span>
<span class="c">#----|</span>
<span class="c">#    |     /-xrygw</span>
<span class="c">#     \---|</span>
<span class="c">#         |     /-gjlwx</span>
<span class="c">#          \---|</span>
<span class="c">#               \-ijvnk</span>

<span class="c"># Trees can be operated as normal ETE trees</span>
<span class="n">phylo</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>


<span class="c"># Export the project as phyloXML format</span>
<span class="n">project</span><span class="o">.</span><span class="n">export</span><span class="p">()</span>

<span class="c"># &lt;phy:Phyloxml xmlns:phy=&quot;http://www.phyloxml.org/1.10/phyloxml.xsd&quot;&gt;</span>
<span class="c">#     &lt;phy:phylogeny&gt;</span>
<span class="c">#         &lt;phy:name&gt;test_tree&lt;/phy:name&gt;</span>
<span class="c">#         &lt;phy:clade&gt;</span>
<span class="c">#             &lt;phy:name&gt;NoName&lt;/phy:name&gt;</span>
<span class="c">#             &lt;phy:branch_length&gt;0.000000e+00&lt;/phy:branch_length&gt;</span>
<span class="c">#             &lt;phy:confidence type=&quot;branch_support&quot;&gt;1.0&lt;/phy:confidence&gt;</span>
<span class="c">#             &lt;phy:clade&gt;</span>
<span class="c">#                 &lt;phy:name&gt;NoName&lt;/phy:name&gt;</span>
<span class="c">#                 &lt;phy:branch_length&gt;1.665083e-01&lt;/phy:branch_length&gt;</span>
<span class="c">#                 &lt;phy:confidence type=&quot;branch_support&quot;&gt;0.938507980435&lt;/phy:confidence&gt;</span>
<span class="c">#                 &lt;phy:clade&gt;</span>
<span class="c">#                     &lt;phy:name&gt;NoName&lt;/phy:name&gt;</span>
<span class="c">#                     &lt;phy:branch_length&gt;1.366655e-01&lt;/phy:branch_length&gt;</span>
<span class="c">#                     &lt;phy:confidence type=&quot;branch_support&quot;&gt;0.791888248212&lt;/phy:confidence&gt;</span>
<span class="c">#                     &lt;phy:clade&gt;</span>
<span class="c">#                         &lt;phy:name&gt;ojnfg&lt;/phy:name&gt;</span>
<span class="c">#                         &lt;phy:branch_length&gt;2.194209e-01&lt;/phy:branch_length&gt;</span>
<span class="c">#                         &lt;phy:confidence type=&quot;branch_support&quot;&gt;0.304705977822&lt;/phy:confidence&gt;</span>
<span class="c">#                     &lt;/phy:clade&gt;</span>
<span class="c">#                     &lt;phy:clade&gt;</span>
<span class="c">#                         &lt;phy:name&gt;qrfnz&lt;/phy:name&gt;</span>
<span class="c">#                         &lt;phy:branch_length&gt;5.235437e-02&lt;/phy:branch_length&gt;</span>
<span class="c">#                         &lt;phy:confidence type=&quot;branch_support&quot;&gt;0.508533765418&lt;/phy:confidence&gt;</span>
<span class="c">#                     &lt;/phy:clade&gt;</span>
<span class="c">#                 &lt;/phy:clade&gt;</span>
<span class="c">#                 &lt;phy:clade&gt;</span>
<span class="c">#                     &lt;phy:name&gt;shngq&lt;/phy:name&gt;</span>
<span class="c">#                     &lt;phy:branch_length&gt;9.740958e-01&lt;/phy:branch_length&gt;</span>
<span class="c">#                     &lt;phy:confidence type=&quot;branch_support&quot;&gt;0.642187390965&lt;/phy:confidence&gt;</span>
<span class="c">#                 &lt;/phy:clade&gt;</span>
<span class="c">#             &lt;/phy:clade&gt;</span>
<span class="c">#             &lt;phy:clade&gt;</span>
<span class="c">#                 &lt;phy:name&gt;NoName&lt;/phy:name&gt;</span>
<span class="c">#                 &lt;phy:branch_length&gt;3.806412e-01&lt;/phy:branch_length&gt;</span>
<span class="c">#                 &lt;phy:confidence type=&quot;branch_support&quot;&gt;0.383619811911&lt;/phy:confidence&gt;</span>
<span class="c">#                 &lt;phy:clade&gt;</span>
<span class="c">#                     &lt;phy:name&gt;vfmnk&lt;/phy:name&gt;</span>
<span class="c">#                     &lt;phy:branch_length&gt;6.495163e-01&lt;/phy:branch_length&gt;</span>
<span class="c">#                     &lt;phy:confidence type=&quot;branch_support&quot;&gt;0.141298879514&lt;/phy:confidence&gt;</span>
<span class="c">#                 &lt;/phy:clade&gt;</span>
<span class="c">#                 &lt;phy:clade&gt;</span>
<span class="c">#                     &lt;phy:name&gt;btexi&lt;/phy:name&gt;</span>
<span class="c">#                     &lt;phy:branch_length&gt;5.704955e-01&lt;/phy:branch_length&gt;</span>
<span class="c">#                     &lt;phy:confidence type=&quot;branch_support&quot;&gt;0.951876078012&lt;/phy:confidence&gt;</span>
<span class="c">#                 &lt;/phy:clade&gt;</span>
<span class="c">#             &lt;/phy:clade&gt;</span>
<span class="c">#         &lt;/phy:clade&gt;</span>
<span class="c">#     &lt;/phy:phylogeny&gt;</span>
<span class="c"># &lt;/phy:Phyloxml&gt;</span>
</pre></div>
</div>
<p><a class="reference download internal" href="../_downloads/phyloxml_from_scratch.py"><code class="xref download docutils literal"><span class="pre">[Download</span> <span class="pre">script]</span></code></a></p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tutorial_webplugin.html" class="btn btn-neutral float-right" title="Interactive web tree visualization" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="tutorial_nexml.html" class="btn btn-neutral" title="NeXML" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, The ETE Toolkit Team.
      Last updated on Mar 18, 2016.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'3.0.0b35',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>